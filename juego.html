<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="styles.css">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <!-- Tipografia warnes : font-family: 'Warnes', cursive;-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Warnes&display=swap" rel="stylesheet">

    <!-- Tipografia Poiret One : font-family: 'Poiret One', cursive;-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poiret+One&display=swap" rel="stylesheet">

    <title>A jugar!</title>
</head>
<body style="background-color: black; font-family: Poiret One;">
    <!--Pantalla previa-->
    <div id="contenedorPresentacion" class="d-flex vh-100 mx-5 flex-column justify-content-center">
            <h2 class="text-center text-title">¿Estás preparado?</h2>
            <p class="textoJuego-sinNeon text-center">De ser así dale click al botón y comenzá a jugar</p>
            <button id="jugar" class="botonForm btn btn-danger mx-auto d-block">Jugar</button>
        </div>
    </div>
    <!--Pantalla juego-->
    <div id="contenedorJuego" class="d-none">
        <div id="resultados1" class="d-flex flex-row justify-content-around vh-100 w-25">
            <div class="w-50 ms-3 d-flex flex-column justify-content-around">
                <p id="apuesta1" class="textoJuego-sinNeon text-center d-none">Apuesta</p>
                <div class="card d-flex flex-row align-items-center justify-content-center bg-black" style="width: 80%; height: 15%;">
                    <img id="primerApuestaPalo" src="" class=" w-50" alt="">
                    <p id="primerApuestaNro" class="text-center textoJuego"></p>
                </div>
                <div class="card d-flex flex-row align-items-center justify-content-center bg-black" style="width: 80%; height: 15%;">
                    <img id="segundaApuestaPalo" src="" class=" w-50" alt="">
                    <p id="segundaApuestaNro" class="text-center textoJuego"></p>
                </div>
                <div class="card d-flex flex-row align-items-center justify-content-center bg-black" style="width: 80%; height: 15%;">
                    <img id="tercerApuestaPalo" src="" class=" w-50" alt="">
                    <p id="tercerApuestaNro" class="text-center textoJuego"></p>
                </div>
                <div class="card d-flex flex-row align-items-center justify-content-center bg-black" style="width: 80%; height: 15%;">
                    <img id="cuartaApuestaPalo" src="" class=" w-50" alt="">
                    <p id="cuartaApuestaNro" class="text-center textoJuego"></p>
                </div>
                <div class="card d-flex flex-row align-items-center justify-content-center bg-black" style="width: 80%; height: 15%;">
                    <img id="quintaApuestaPalo" src="" class=" w-50" alt="">
                    <p id="quintaApuestaNro" class="text-center textoJuego"></p>
                </div>
            </div>
            <div class="w-50 ms-3 d-flex flex-column justify-content-around">
                <p id="salida1" class="textoJuego-sinNeon text-center d-none">Salida</p>
                <div class="card d-flex flex-row align-items-center justify-content-center bg-black" style="width: 80%; height: 15%;">
                    <img id="primerCartaPalo" src="" class=" w-50" alt="">
                    <p id="primerCartaNro" class="text-center textoJuego"></p>
                </div>
                <div class="card d-flex flex-row align-items-center justify-content-center bg-black" style="width: 80%; height: 15%;">
                    <img id="segundaCartaPalo" src="" class=" w-50" alt="">
                    <p id="segundaCartaNro" class="text-center textoJuego"></p>
                </div>
                <div class="card d-flex flex-row align-items-center justify-content-center bg-black" style="width: 80%; height: 15%;">
                    <img id="tercerCartaPalo" src="" class=" w-50" alt="">
                    <p id="tercerCartaNro" class="text-center textoJuego"></p>
                </div>
                <div class="card d-flex flex-row align-items-center justify-content-center bg-black" style="width: 80%; height: 15%;">
                    <img id="cuartaCartaPalo" src="" class=" w-50" alt="">
                    <p id="cuartaCartaNro" class="text-center textoJuego"></p>
                </div>
                <div class="card d-flex flex-row align-items-center justify-content-center bg-black" style="width: 80%; height: 15%;">
                    <img id="quintaCartaPalo" src="" class=" w-50" alt="">
                    <p id="quintaCartaNro" class="text-center textoJuego"></p>
                </div>
            </div>
        </div>
        
        <div id="contenedorCentral" class="w-50">
            <div class="d-flex justify-content-around">
                <p id="intentos" class="textoJuego"></p>
                <p id="puntaje" class="textoJuego">Puntaje:</p>
            </div>
            <div class="my-3">
                <h4 id="tuTurno" class="text-center textoJuego-sinNeon">Tu turno</h4>
                <div class="d-flex flex-row justify-content-center align-items-center">
                    <p id="nroSaliente" class="text-center textoCarta"></p>
                    <img id="imgCarta" class="img-fluid imagenTurno d-block mt-4" src="./img/dedoApuntando.png" alt="tuTurno">
                </div>
            </div>
            <div>
                <form action="">
                    <div class="mb-3">
                        <label for="apuestaNro" class="form-label textoJuego-sinNeon w-75 d-block mx-auto">Número carta</label>
                        <input type="number" class="form-control textoForm w-75 mx-auto" id="apuestaNro" placeholder="Ingrese un número del 1 al 12">
                    </div>
                    <div class="mb-3">
                        <label for="apuestaPalo" class="form-label textoJuego-sinNeon w-75 d-block mx-auto">Palo carta</label>
                        <input type="text" class="form-control textoForm w-75 mx-auto" id="apuestaPalo" placeholder="Ingrese el palo de la carta">
                    </div>
                    <button id="apostar" value="apostar" type="submit" class="botonForm btn btn-danger mx-auto d-block">Apostar</button>
                </form>
            </div>
        </div>

        <div id="contenedorVictoria" class="w-50 d-none">
            <h3 class="text-center text-title">Felicitaciones! Has ganado!</h3>
            <img class="img-fluid imagenTurno mx-auto d-block mt-4" src="./img/victoria.png" alt="victoria">
            <p id="mensajePuntaje" class="text-center textoJuego-sinNeon mt-3"></p>
            <p id="premiosConseguidos" class="text-center textoJuego-sinNeon mt-3"></p>
            <button id="premios" class="botonForm btn btn-danger mx-auto d-block reintentar">Volver a jugar</button>
        </div>

        <div id="contenedorDerrota" class="w-50 d-none">
            <h3 class="text-center text-title-red">Qué lástima! Has perdido!</h3>
            <img class="img-fluid imagenTurno mx-auto d-block mt-4" src="./img/derrota.png" alt="derrota">
            <p id="mensajePuntajeDerrota" class="text-center textoJuego-sinNeon mt-3"></p>
            <p class="text-center textoJuego-sinNeon mt-3">Para volver a intentarlo hacé click en el botón!</p>
            <button id="reintentar" class="botonForm btn btn-danger mx-auto d-block reintentar">Reintentar</button>
        </div>

        <div id="resultados2" class="d-flex flex-row justify-content-around vh-100 w-25">
            <div class="w-50 ms-3 d-flex flex-column justify-content-around">
                <p id="apuesta2" class="textoJuego-sinNeon text-center d-none">Apuesta</p>
                <div class="card d-flex flex-row align-items-center justify-content-center bg-black" style="width: 80%; height: 15%;">
                    <img id="sextaApuestaPalo" src="" class=" w-50" alt="">
                    <p id="sextaApuestaNro" class="text-center textoJuego"></p>
                </div>
                <div class="card d-flex flex-row align-items-center justify-content-center bg-black" style="width: 80%; height: 15%;">
                    <img id="septimaApuestaPalo" src="" class=" w-50" alt="">
                    <p id="septimaApuestaNro" class="text-center textoJuego"></p>
                </div>
                <div class="card d-flex flex-row align-items-center justify-content-center bg-black" style="width: 80%; height: 15%;">
                    <img id="octavaApuestaPalo" src="" class=" w-50" alt="">
                    <p id="octavaApuestaNro" class="text-center textoJuego"></p>
                </div>
                <div class="card d-flex flex-row align-items-center justify-content-center bg-black" style="width: 80%; height: 15%;">
                    <img id="novenaApuestaPalo" src="" class=" w-50" alt="...">
                    <p id="novenaApuestaNro" class="text-center textoJuego"></p>
                </div>
                <div class="card d-flex flex-row align-items-center justify-content-center bg-black" style="width: 80%; height: 15%;">
                    <img id="decimaApuestaPalo" src="" class=" w-50" alt="">
                    <p id="decimaApuestaNro" class="text-center textoJuego"></p>
                </div>
            </div>
            <div class="w-50 ms-3 d-flex flex-column justify-content-around">
                <p id="salida2" class="textoJuego-sinNeon text-center d-none">Salida</p>
                <div class="card d-flex flex-row align-items-center justify-content-center  bg-black" style="width: 80%; height: 15%;">
                    <img id="sextaCartaPalo" src="" class=" w-50" alt="">
                    <p id="sextaCartaNro" class="text-center textoJuego"></p>
                </div>
                <div class="card d-flex flex-row align-items-center justify-content-center  bg-black" style="width: 80%; height: 15%;">
                    <img id="septimaCartaPalo" src="" class=" w-50" alt="">
                    <p id="septimaCartaNro" class="text-center textoJuego"></p>
                </div>
                <div class="card d-flex flex-row align-items-center justify-content-center  bg-black" style="width: 80%; height: 15%;">
                    <img id="octavaCartaPalo" src="" class=" w-50" alt="">
                    <p id="octavaCartaNro" class="text-center textoJuego"></p>
                </div>
                <div class="card d-flex flex-row align-items-center justify-content-center  bg-black" style="width: 80%; height: 15%;">
                    <img id="novenaCartaPalo" src="" class=" w-50" alt="">
                    <p id="novenaCartaNro" class="text-center textoJuego"></p>
                </div>
                <div class="card d-flex flex-row align-items-center justify-content-center  bg-black" style="width: 80%; height: 15%;">
                    <img id="decimaCartaPalo" src="" class=" w-50" alt="">
                    <p id="decimaCartaNro" class="text-center textoJuego"></p>
                </div>
            </div>
        </div>
    </div>
</body>

<script src="./jquery/jquery-3.6.0.min.js"></script>
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

<script>

    $("#jugar").on("click", function(){
        jugar();
    })

    $("body").keydown(function(e){
        if(e.which == 13){
            console.log("Hola")
        }
    })

    function jugar(){

    var puntaje = 0, intentos = 9, cartaNro, cartaPalo;
    var apuestasPalo = [], apuestasNro = [], cartasPalo = [], cartasNro = [];

    $("#contenedorPresentacion").removeClass("d-flex")
                                .addClass("d-none");
    $("#contenedorJuego").removeClass("d-none")
                        .addClass("d-flex")
                        .addClass("align-items-center")
                        .addClass("vh-100");

    $("#puntaje").text(`Puntaje: 0`);
    $("#intentos").text(`10/10`);

    $("#apostar").on("click", function(e){
        e.preventDefault();
        var apuestaPalo = $("#apuestaPalo").val().toLowerCase();
        if(apuestaPalo == ""){
            alert("Debes ingresar un palo. Puede ser copa, oro, basto o espada")
        }else if(!isNaN(apuestaPalo)){
            alert("El valor ingresado no puede ser un número");
            $("#apuestaPalo").val("")
        }else if(apuestaPalo != "basto" && apuestaPalo != "copa" && apuestaPalo != "oro" && apuestaPalo != "espada"){
            alert("Los únicos palos validos son copa, basto, espada y oro");
            $("#apuestaPalo").val("");
        }else{
            $("#apuestaPalo").val("");
        }

        var apuestaNro = parseInt($("#apuestaNro").val());
        if(apuestaNro == "" || isNaN(apuestaNro) || apuestaNro > 12 || apuestaNro < 1 ){
            alert("Debes ingresar un número entre el 1 y el 12");
            $("#apuestaNro").val("");
        }else{
            $("#apuestaNro").val("");
        }

        if((apuestaPalo == "copa" || apuestaPalo == "basto" || apuestaPalo == "espada" || apuestaPalo == "oro") && (apuestaNro <= 12 && apuestaNro >= 1)){
            $("#intentos").text(`${intentos}/10`);
            $("#apuesta1").addClass("d-md-block");
            $("#salida1").addClass("d-md-block");

            intentos--;
            cartaNro = parseInt(Math.random()*(13-1)+1);
            $("#nroSaliente").text(cartaNro)
            var nroPalo = parseInt(Math.random()*(5-1)+1);

            if(nroPalo == 1){
                cartaPalo = "oro";
                $("#imgCarta").attr("src", "./img/oro.png")
            } else if(nroPalo == 2){
                cartaPalo = "copa";
                $("#imgCarta").attr("src", "./img/copa.png")
            } else if(nroPalo == 3){
                cartaPalo = "basto";
                $("#imgCarta").attr("src", "./img/basto.png")
            } else if(nroPalo == 4){
                cartaPalo = "espada";
                $("#imgCarta").attr("src", "./img/espada.png")
            };

            if(cartaPalo == apuestaPalo && cartaNro != apuestaNro){
                puntaje += 25;
                $("#puntaje").css({
                    color: "yellow",
                    textShadow: "0 0 10px rgba(255,255,255,1) , 0 0 20px rgba(255,255,255,1) , 0 0 30px rgba(255,255,255,1) , 0 0 40px #c8df1b , 0 0 70px #dede0e , 0 0 80px #dfe228 , 0 0 100px #d3f02d"
                });
                $("#intentos").css({
                    color: "yellow",
                    textShadow: "0 0 10px rgba(255,255,255,1) , 0 0 20px rgba(255,255,255,1) , 0 0 30px rgba(255,255,255,1) , 0 0 40px #c8df1b , 0 0 70px #dede0e , 0 0 80px #dfe228 , 0 0 100px #d3f02d"
                });
            } else if(cartaNro == apuestaNro && cartaPalo != apuestaPalo){
                puntaje += 50;
                $("#puntaje").css({
                    color: "yellow",
                    textShadow: "0 0 10px rgba(255,255,255,1) , 0 0 20px rgba(255,255,255,1) , 0 0 30px rgba(255,255,255,1) , 0 0 40px #c8df1b , 0 0 70px #dede0e , 0 0 80px #dfe228 , 0 0 100px #d3f02d"
                });
                $("#intentos").css({
                    color: "yellow",
                    textShadow: "0 0 10px rgba(255,255,255,1) , 0 0 20px rgba(255,255,255,1) , 0 0 30px rgba(255,255,255,1) , 0 0 40px #c8df1b , 0 0 70px #dede0e , 0 0 80px #dfe228 , 0 0 100px #d3f02d"
                });
            } else if(cartaNro == apuestaNro && cartaPalo == apuestaPalo){
                puntaje += 100;
                $("#puntaje").css({
                    color: "white",
                    textShadow: "0 0 10px rgba(255,255,255,1) , 0 0 20px rgba(255,255,255,1) , 0 0 30px rgba(255,255,255,1) , 0 0 40px #15a33f , 0 0 70px #11a639 , 0 0 80px #12c718 , 0 0 100px #10cf0d" 
                });
                $("#intentos").css({
                    color: "white",
                    textShadow: "0 0 10px rgba(255,255,255,1) , 0 0 20px rgba(255,255,255,1) , 0 0 30px rgba(255,255,255,1) , 0 0 40px #15a33f , 0 0 70px #11a639 , 0 0 80px #12c718 , 0 0 100px #10cf0d" 
                });
            } else{
                puntaje -= 10;
                $("#puntaje").css({
                    textShadow: "0 0 10px rgba(255,255,255,1) , 0 0 20px rgba(255,255,255,1) , 0 0 30px rgba(255,255,255,1) , 0 0 40px #d32121 , 0 0 70px #d61d1d , 0 0 80px #ec3030 , 0 0 100px #f12828"
                });
                $("#intentos").css({
                    textShadow: "0 0 10px rgba(255,255,255,1) , 0 0 20px rgba(255,255,255,1) , 0 0 30px rgba(255,255,255,1) , 0 0 40px #d32121 , 0 0 70px #d61d1d , 0 0 80px #ec3030 , 0 0 100px #f12828"
                });
            }

            cartasNro.push(cartaNro);
            cartasPalo.push(cartaPalo);
            apuestasNro.push(apuestaNro);
            apuestasPalo.push(apuestaPalo);

            if(intentos == 8){
                $("#primerApuestaPalo").attr(`src`, `./img/${apuestasPalo[0]}.png`);
                $("#primerApuestaNro").text(`${apuestasNro[0]}`);
                $("#primerCartaPalo").attr(`src`, `./img/${cartasPalo[0]}.png`);
                $("#primerCartaNro").text(`${cartasNro[0]}`);
                if(cartaPalo == apuestaPalo && cartaNro == apuestaNro){
                    puntaje = 300;
                    $("#contenedorCentral").addClass("d-none");
                    $("#contenedorVictoria").removeClass("d-none")
                                            .addClass("d-block")
                                            .addClass("mx-auto");
                    $("#resultados1").addClass("d-none")
                                    .addClass("d-md-flex");
                    $("#resultados2").addClass("d-none")
                                    .addClass("d-md-flex");
                    $("#premiosConseguidos").text("Has ganado cinco entradas gratis para el casino y 10 consumiciones en total para vos y tus invitados!");
                }
            }else if(intentos == 7){
                $("#segundaApuestaPalo").attr(`src`, `./img/${apuestasPalo[1]}.png`);
                $("#segundaApuestaNro").text(`${apuestasNro[1]}`);
                $("#segundaCartaPalo").attr(`src`, `./img/${cartasPalo[1]}.png`);
                $("#segundaCartaNro").text(`${cartasNro[1]}`);
            }else if(intentos == 6){
                $("#tercerApuestaPalo").attr(`src`, `./img/${apuestasPalo[2]}.png`);
                $("#tercerApuestaNro").text(`${apuestasNro[2]}`);
                $("#tercerCartaPalo").attr(`src`, `./img/${cartasPalo[2]}.png`);
                $("#tercerCartaNro").text(`${cartasNro[2]}`);
            }else if(intentos == 5){
                $("#cuartaApuestaPalo").attr(`src`, `./img/${apuestasPalo[3]}.png`);
                $("#cuartaApuestaNro").text(`${apuestasNro[3]}`);
                $("#cuartaCartaPalo").attr(`src`, `./img/${cartasPalo[3]}.png`);
                $("#cuartaCartaNro").text(`${cartasNro[3]}`);
            }else if(intentos == 4){
                $("#quintaApuestaPalo").attr(`src`, `./img/${apuestasPalo[4]}.png`);
                $("#quintaApuestaNro").text(`${apuestasNro[4]}`);
                $("#quintaCartaPalo").attr(`src`, `./img/${cartasPalo[4]}.png`);
                $("#quintaCartaNro").text(`${cartasNro[4]}`);
            }else if(intentos == 3){
                $("#apuesta2").addClass("d-md-block");
                $("#salida2").addClass("d-md-block");
                $("#sextaApuestaPalo").attr(`src`, `./img/${apuestasPalo[5]}.png`);
                $("#sextaApuestaNro").text(`${apuestasNro[5]}`);
                $("#sextaCartaPalo").attr(`src`, `./img/${cartasPalo[5]}.png`);
                $("#sextaCartaNro").text(`${cartasNro[5]}`);
            }else if(intentos == 2){
                $("#septimaApuestaPalo").attr(`src`, `./img/${apuestasPalo[6]}.png`);
                $("#septimaApuestaNro").text(`${apuestasNro[6]}`);
                $("#septimaCartaPalo").attr(`src`, `./img/${cartasPalo[6]}.png`);
                $("#septimaCartaNro").text(`${cartasNro[6]}`);
            }else if(intentos == 1){
                $("#octavaApuestaPalo").attr(`src`, `./img/${apuestasPalo[7]}.png`);
                $("#octavaApuestaNro").text(`${apuestasNro[7]}`);
                $("#octavaCartaPalo").attr(`src`, `./img/${cartasPalo[7]}.png`);
                $("#octavaCartaNro").text(`${cartasNro[7]}`);
            }else if(intentos == 0){
                $("#novenaApuestaPalo").attr(`src`, `./img/${apuestasPalo[8]}.png`);
                $("#novenaApuestaNro").text(`${apuestasNro[8]}`);
                $("#novenaCartaPalo").attr(`src`, `./img/${cartasPalo[8]}.png`);
                $("#novenaCartaNro").text(`${cartasNro[8]}`);
            }else if(intentos == -1){
                $("#decimaApuestaPalo").attr(`src`, `./img/${apuestasPalo[9]}.png`);
                $("#decimaApuestaNro").text(`${apuestasNro[9]}`);
                $("#decimaCartaPalo").attr(`src`, `./img/${cartasPalo[9]}.png`);
                $("#decimaCartaNro").text(`${cartasNro[9]}`);

                if(puntaje>50){
                    $("#contenedorCentral").addClass("d-none");
                    $("#contenedorVictoria").removeClass("d-none")
                                            .addClass("d-block")
                                            .addClass("mx-auto");
                    $("#resultados1").addClass("d-none")
                                    .addClass("d-md-flex");
                    $("#resultados2").addClass("d-none")
                                    .addClass("d-md-flex");
                    $("#premiosConseguidos").text("Has ganado cinco entradas gratis para el casino!");
                }else{
                    $("#contenedorCentral").addClass("d-none");
                    $("#contenedorDerrota").removeClass("d-none")
                                            .addClass("d-block")
                                            .addClass("mx-auto");
                    $("#resultados1").addClass("d-none")
                                    .addClass("d-md-flex");
                    $("#resultados2").addClass("d-none")
                                    .addClass("d-md-flex")
                }
            }

            $("#puntaje").text(`Puntaje: ${puntaje}`);
            $("#mensajePuntaje").text(`Tu puntaje fue ${puntaje} puntos`)
            $("#mensajePuntajeDerrota").text(`Tu puntaje fue ${puntaje} puntos`)
            $("#tuTurno").css("display", "none");
        }
    })
}

$(".reintentar").on("click", function(){
    window.location.href = "./juego.html";
})

</script>
</html>